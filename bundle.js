(()=>{var t={705:(t,e,n)=>{var o=n(639).Symbol;t.exports=o},239:(t,e,n)=>{var o=n(705),r=n(607),s=n(333),l=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?r(t):s(t)}},98:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,o,r,s){for(var l=-1,c=n(e((o-t)/(r||1)),0),i=Array(c);c--;)i[s?c:++l]=t,t+=r;return i}},259:t=>{t.exports=function(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(r);++o<r;)s[o]=t[o+e];return s}},561:(t,e,n)=>{var o=n(990),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},445:(t,e,n)=>{var o=n(98),r=n(612),s=n(601);t.exports=function(t){return function(e,n,l){return l&&"number"!=typeof l&&r(e,n,l)&&(n=l=void 0),e=s(e),void 0===n?(n=e,e=0):n=s(n),l=void 0===l?e<n?1:-1:s(l),o(e,n,l,t)}}},957:(t,e,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},607:(t,e,n)=>{var o=n(705),r=Object.prototype,s=r.hasOwnProperty,l=r.toString,c=o?o.toStringTag:void 0;t.exports=function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var o=!0}catch(t){}var r=l.call(t);return o&&(e?t[c]=n:delete t[c]),r}},776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var o=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&e.test(t))&&t>-1&&t%1==0&&t<n}},612:(t,e,n)=>{var o=n(813),r=n(240),s=n(776),l=n(218);t.exports=function(t,e,n){if(!l(n))return!1;var c=typeof e;return!!("number"==c?r(n)&&s(e,n.length):"string"==c&&e in n)&&o(n[e],t)}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,n)=>{var o=n(957),r="object"==typeof self&&self&&self.Object===Object&&self,s=o||r||Function("return this")();t.exports=s},990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},400:(t,e,n)=>{var o=n(259),r=n(612),s=n(554),l=Math.ceil,c=Math.max;t.exports=function(t,e,n){e=(n?r(t,e,n):void 0===e)?1:c(s(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var u=0,a=0,f=Array(l(i/e));u<i;)f[a++]=o(t,u,u+=e);return f}},813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},240:(t,e,n)=>{var o=n(560),r=n(780);t.exports=function(t){return null!=t&&r(t.length)&&!o(t)}},560:(t,e,n)=>{var o=n(239),r=n(218);t.exports=function(t){if(!r(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,n)=>{var o=n(239),r=n(5);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},26:(t,e,n)=>{var o=n(445)();t.exports=o},601:(t,e,n)=>{var o=n(841);t.exports=function(t){return t?Infinity===(t=o(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var o=n(601);t.exports=function(t){var e=o(t),n=e%1;return e==e?n?e-n:e:0}},841:(t,e,n)=>{var o=n(561),r=n(218),s=n(448),l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,i=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(s(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=c.test(t);return n||i.test(t)?u(t.slice(2),n?2:8):l.test(t)?NaN:+t}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(){}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function i(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function h(){return p(" ")}function $(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e,n){t.classList[n?"add":"remove"](e)}let g;function y(t){g=t}new Set,new Set;const x=[],w=[],k=[],j=[],_=Promise.resolve();let O=!1;function E(t){k.push(t)}let S=!1;const A=new Set;function C(){if(!S){S=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];y(e),T(e.$$)}for(y(null),x.length=0;w.length;)w.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];A.has(e)||(A.add(e),e())}k.length=0}while(x.length);for(;j.length;)j.pop()();O=!1,S=!1,A.clear()}}function T(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const M=new Set;let N,L;function F(){N={r:0,c:[],p:N}}function P(){N.r||r(N.c),N=N.p}function B(t,e){t&&t.i&&(M.delete(t),t.i(e))}function I(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),N.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function q(t){t&&t.c()}function U(t,n,o,l){const{fragment:c,on_mount:i,on_destroy:u,after_update:a}=t.$$;c&&c.m(n,o),l||E((()=>{const n=i.map(e).filter(s);u?u.push(...n):r(n),t.$$.on_mount=[]})),a.forEach(E)}function D(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(e,n,s,l,c,i,u=[-1]){const f=g;y(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:o(),dirty:u,skip_bound:!1};let p=!1;if(d.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&function(t,e){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,_.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=(h=n.target,Array.from(h.childNodes));d.fragment&&d.fragment.l(t),t.forEach(a)}else d.fragment&&d.fragment.c();n.intro&&B(e.$$.fragment),U(e,n.target,n.anchor,n.customElement),C()}var h;y(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(L=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class G{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Q=n(26),R=n.n(Q),W=n(400),Y=n.n(W);class z{constructor(t,e){this.across=[],this.down=[],this.rows=t,this.cols=e,this.cells=Y()(R()(0,t*e).map((t=>({id:t}))),e),this.renumber()}renumber(){let t=0;for(const e of this.cells)for(let n of e)n&&(n.id=t,t+=1);this.across=[],this.down=[];let e=1;for(const[t,n]of this.cells.entries())for(const[o,r]of n.entries()){if(!r)continue;const n=0===o||!this.cells[t][o-1],s=0===t||!this.cells[t-1][o];n||s?(r.number=e,e+=1,n?this.across.push(this.calculateAcross(t,o)):this.down.push(this.calculateDown(t,o))):r.number=void 0}}calculateAcross(t,e){var n;let o=[];for(;null===(n=this.cells[t])||void 0===n?void 0:n[e];)o=[...o,this.cells[t][e]],e+=1;return o}calculateDown(t,e){var n;let o=[];for(;null===(n=this.cells[t])||void 0===n?void 0:n[e];)o=[...o,this.cells[t][e]],t+=1;return o}toggleCell(t,e){let n=this.cells[t][e];this.cells[t][e]=n?void 0:{id:-1},this.renumber()}}function J(e){let n,o,r,s,l,c,f,g,y=(e[0]?.number??"")+"",x=(e[0]?.value??"")+"";return{c(){n=d("div"),o=d("div"),r=p(y),s=h(),l=d("div"),c=p(x),v(o,"class","number svelte-1l22tit"),v(l,"class","value svelte-1l22tit"),v(n,"class","cell svelte-1l22tit"),m(n,"block",!e[0])},m(t,a){u(t,n,a),i(n,o),i(o,r),i(n,s),i(n,l),i(l,c),f||(g=$(n,"mousedown",e[1]),f=!0)},p(t,[e]){1&e&&y!==(y=(t[0]?.number??"")+"")&&b(r,y),1&e&&x!==(x=(t[0]?.value??"")+"")&&b(c,x),1&e&&m(n,"block",!t[0])},i:t,o:t,d(t){t&&a(n),f=!1,g()}}}function K(t,e,n){let{cell:o}=e;return t.$$set=t=>{"cell"in t&&n(0,o=t.cell)},[o,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}const V=class extends G{constructor(t){super(),H(this,t,K,J,l,{cell:0})}};function X(t,e,n){const o=t.slice();return o[4]=e[n],o}function Z(t,e,n){const o=t.slice();return o[7]=e[n],o}function tt(t){let e,n,o,r,s;function l(){return t[3](t[4],t[7])}return n=new V({props:{cell:t[0].cells[t[4]][t[7]]}}),{c(){e=d("td"),q(n.$$.fragment),v(e,"class","svelte-pbkrpd")},m(t,c){u(t,e,c),U(n,e,null),o=!0,r||(s=$(e,"mousedown",l),r=!0)},p(e,o){t=e;const r={};1&o&&(r.cell=t[0].cells[t[4]][t[7]]),n.$set(r)},i(t){o||(B(n.$$.fragment,t),o=!0)},o(t){I(n.$$.fragment,t),o=!1},d(t){t&&a(e),D(n),r=!1,s()}}}function et(t){let e,n,o,r=R()(0,t[0].cols),s=[];for(let e=0;e<r.length;e+=1)s[e]=tt(Z(t,r,e));const l=t=>I(s[t],1,1,(()=>{s[t]=null}));return{c(){e=d("tr");for(let t=0;t<s.length;t+=1)s[t].c();n=h(),v(e,"class","svelte-pbkrpd")},m(t,r){u(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);i(e,n),o=!0},p(t,o){if(7&o){let c;for(r=R()(0,t[0].cols),c=0;c<r.length;c+=1){const l=Z(t,r,c);s[c]?(s[c].p(l,o),B(s[c],1)):(s[c]=tt(l),s[c].c(),B(s[c],1),s[c].m(e,n))}for(F(),c=r.length;c<s.length;c+=1)l(c);P()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)B(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)I(s[t]);o=!1},d(t){t&&a(e),f(s,t)}}}function nt(t){let e,n,o=R()(0,t[0].rows),r=[];for(let e=0;e<o.length;e+=1)r[e]=et(X(t,o,e));const s=t=>I(r[t],1,1,(()=>{r[t]=null}));return{c(){e=d("table");for(let t=0;t<r.length;t+=1)r[t].c();v(e,"class","svelte-pbkrpd")},m(t,o){u(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(7&n){let l;for(o=R()(0,t[0].rows),l=0;l<o.length;l+=1){const s=X(t,o,l);r[l]?(r[l].p(s,n),B(r[l],1)):(r[l]=et(s),r[l].c(),B(r[l],1),r[l].m(e,null))}for(F(),l=o.length;l<r.length;l+=1)s(l);P()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)B(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)I(r[t]);n=!1},d(t){t&&a(e),f(r,t)}}}function ot(t,e,n){let{crossword:o=new z(5,5)}=e,{editable:r=!1}=e;function s(t,e){o.toggleCell(t,e),n(0,o)}return t.$$set=t=>{"crossword"in t&&n(0,o=t.crossword),"editable"in t&&n(1,r=t.editable)},[o,r,s,(t,e)=>{r&&s(t,e)}]}const rt=class extends G{constructor(t){super(),H(this,t,ot,nt,l,{crossword:0,editable:1})}};function st(t){let e,n,o,r,s,l,c,f,p;function b(e){t[2](e)}let m={};return void 0!==t[0]&&(m.crossword=t[0]),s=new rt({props:m}),w.push((()=>function(t,e,n){const o=t.$$.props.crossword;void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(s,0,b))),{c(){e=d("main"),n=d("div"),o=d("button"),o.textContent="Click me",r=h(),q(s.$$.fragment),v(n,"class","wrap svelte-1i6jmmg")},m(l,a){u(l,e,a),i(e,n),i(n,o),i(n,r),U(s,n,null),c=!0,f||(p=$(o,"click",t[1]),f=!0)},p(t,[e]){const n={};var o;!l&&1&e&&(l=!0,n.crossword=t[0],o=()=>l=!1,j.push(o)),s.$set(n)},i(t){c||(B(s.$$.fragment,t),c=!0)},o(t){I(s.$$.fragment,t),c=!1},d(t){t&&a(e),D(s),f=!1,p()}}}function lt(t,e,n){BigInt(1442);let o,r=new z(15,15);const s=new Worker("worker.js");return s.addEventListener("message",(t=>{switch(t.data.kind){case"SOLUTION":o=t.data.output}})),[r,()=>{const t={kind:"QUERY",input:[...r.across,...r.down].map((t=>t.map((t=>t.id))))};s.postMessage(t)},function(t){r=t,n(0,r)}]}new class extends G{constructor(t){super(),H(this,t,lt,st,l,{})}}({target:document.body,props:{}})})()})();
//# sourceMappingURL=bundle.js.map